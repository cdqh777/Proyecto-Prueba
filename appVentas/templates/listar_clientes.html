{% extends "base.html" %}

{% block content %}
{% if user.username == 'admin' %}
    <h1>ğŸ“‹ Lista de Clientes</h1>
    
    <p style="margin-bottom: 20px;">
        <a href="{% url 'crear_cliente' %}" class="btn">â• Nuevo Cliente</a>
    </p>
    
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Nombre</th>
                <th>Email</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for cliente in clientes %}
            <tr>
                <td>{{ cliente.id_cliente }}</td>
                <td>{{ cliente.nombre }}</td>
                <td>{{ cliente.email }}</td>
                <td>
                    <a href="{% url 'actualizar_cliente' cliente.id_cliente %}" class="btn btn-edit">âœï¸ Modificar</a>
                    <a href="{% url 'eliminar_cliente' cliente.id_cliente %}" class="btn btn-delete" 
                       onclick="return confirm('Â¿EstÃ¡ seguro de eliminar este cliente?')">ğŸ—‘ï¸ Eliminar</a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="4" style="text-align: center; padding: 40px; color: #999;">
                    No hay clientes registrados
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% else %}
    <div style="text-align: center; padding: 60px;">
        <h2 style="color: #ff4757; font-size: 32px;">ğŸš« Acceso Denegado</h2>
        <p style="font-size: 18px; color: #666; margin-top: 20px;">
            No tienes permisos para acceder al mÃ³dulo de clientes.
        </p>
        <p style="margin-top: 30px;">
            <a href="{% url 'pagina_inicial' %}" class="btn">Volver al inicio</a>
        </p>
    </div>
{% endif %}
{% endblock %}

